function show_confirmation_popup(){$("#android_notification_modal .flipper").addClass("hover")}function getCookie(e){var r=null;if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var s=jQuery.trim(t[o]);if(s.substring(0,e.length+1)==e+"="){r=decodeURIComponent(s.substring(e.length+1));break}}return r}function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}$.ajaxSetup({beforeSend:function(e,r){if(!csrfSafeMethod(r.type)&&!this.crossDomain){var t=getCookie("csrftoken");e.setRequestHeader("X-CSRFToken",t)}}}),$(document).ready(function(){function validateFields(e){var r,t,o=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/;return $(e).find('.validate-required[type="checkbox"]').each(function(){$('[name="'+$(this).attr("name")+'"]:checked').length||(t=1,r=$(this).attr("name").replace("[]",""),e.find(".form-error").text("Please tick at least one "+r+" box."))}),$(e).find(".validate-required, .validate-email, .validate-phone").each(function(){$(this).removeClass("field-error")}),$(e).find(".validate-required").each(function(){""===$(this).val()&&($(this).addClass("field-error"),t=1)}),$(e).find(".validate-email").each(function(){/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())||($(this).addClass("field-error"),t=1)}),$(e).find(".validate-phone").each(function(){o.test($(this).val())||($(this).addClass("field-error"),t=1)}),e.find(".field-error").length||e.find(".form-error").fadeOut(1e3),t}$("form.form-sms, form.form-email, form.form-newsletter").submit(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var thisForm=$(this).closest("form.form-sms, form.form-email, form.form-newsletter"),submitButton=thisForm.find('button[type="submit"]'),error=0,apiUrl="",originalError=thisForm.attr("original-error"),preparedForm,userNumber,successRedirect,successCallback,formError,formSuccess;return thisForm.find(".form-error, .form-success").remove(),submitButton.attr("data-text",submitButton.text()),thisForm.append('<div class="form-error" style="display: none;">'+thisForm.attr("data-error")+"</div>"),thisForm.append('<div class="form-success" style="display: none;">'+thisForm.attr("data-success")+"</div>"),formError=thisForm.find(".form-error"),formSuccess=thisForm.find(".form-success"),thisForm.addClass("attempted-submit"),1===validateFields(thisForm)?(formError.fadeIn(200),setTimeout(function(){formError.fadeOut(500)},3e3)):(thisForm.removeClass("attempted-submit"),formError.fadeOut(200),submitButton.html(jQuery("<div />").addClass("form-loading")).attr("disabled","disabled"),thisForm.hasClass("form-email")?apiUrl="/send_email/":thisForm.hasClass("form-sms")?apiUrl="/send_sms/":thisForm.hasClass("form-newsletter")&&(apiUrl="/subscribe_mailchimp/"),jQuery.ajax({type:"POST",url:apiUrl,data:thisForm.serialize(),success:function(response){submitButton.html(submitButton.attr("data-text")).removeAttr("disabled"),$.isNumeric(response)?parseInt(response)>0?(successRedirect=thisForm.attr("success-redirect"),"undefined"!=typeof successRedirect&&successRedirect!==!1&&""!==successRedirect&&(window.location=successRedirect),successCallback=thisForm.attr("success-callback"),"undefined"!=typeof successCallback&&successCallback!==!1&&""!==successCallback&&eval(successCallback),thisForm.find('input[type="text"]').val(""),thisForm.find("textarea").val(""),thisForm.find(".form-success").fadeIn(1e3),formError.fadeOut(1e3),setTimeout(function(){formSuccess.fadeOut(500)},5e3)):(formError.text(thisForm.attr("data-apierror")).fadeIn(1e3),formSuccess.fadeOut(1e3)):(formError.text(response).fadeIn(1e3),formSuccess.fadeOut(1e3))},error:function(e,r,t){formError.text(t).fadeIn(1e3),formSuccess.fadeOut(1e3),submitButton.html(submitButton.attr("data-text")).removeAttr("disabled")}})),!1}),$(".validate-required, .validate-email").on("blur change",function(){validateFields($(this).closest("form"))}),$("form").each(function(){$(this).find(".form-error").length&&$(this).attr("original-error",$(this).find(".form-error").text())})}),function(e){e.fn.colorScroll=function(){return this.each(function(){function r(){var r=e(window).scrollTop()-$t.offset().top,t=e(window).height(),o=$t.height(),a=o-t;if(!(r<0||r>a)){var n=r/a,d=Math.floor(n*(s-1)),f=n*(s-1),l=Math.floor(d);Math.floor(d)==s-1&&(l=Math.floor(d)-1),f>1&&(f-=l);var u=i[l][0]-Math.round(c[l][0]*f),m=i[l][1]-Math.round(c[l][1]*f),h=i[l][2]-Math.round(c[l][2]*f);$t.css("background-color","rgb("+u+","+m+","+h+")")}}$t=e(this);for(var t=$t.data("colors"),o=t.split(":"),s=o.length,i=[],a=0;a<s;a++){i[a]=[];var n=o[a].split(",");i[a][0]=n[0],i[a][1]=n[1],i[a][2]=n[2]}for(var c=[],a=0;a<s-1;a++)c[a]=[],c[a][0]=i[a][0]-i[a+1][0],c[a][1]=i[a][1]-i[a+1][1],c[a][2]=i[a][2]-i[a+1][2];e(window).scroll(r),e(window).resize(r)})},e(document).ready(function(){e(".colorScroll").colorScroll()})}(jQuery);